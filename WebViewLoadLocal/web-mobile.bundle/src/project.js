require=function t(e,i,o){function n(a,c){if(!i[a]){if(!e[a]){var r="function"==typeof require&&require;if(!c&&r)return r(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){var i=e[a][1][t];return n(i||t)},l,l.exports,t,e,i,o)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({BaseGameJS:[function(t,e,i){"use strict";cc._RF.push(e,"0cdcdbQ6MdLT6cxP5fodlmx","BaseGameJS"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,paopao_node:cc.Node,paopao_pref:cc.Prefab,feedback_node:cc.Node,feedback_pref:cc.Prefab,loseTime_node:cc.Node,loseTime:0,time_node:cc.Node,question_node:cc.Node,quertionList_node:cc.Node,title_node:cc.Node},onLoad:function(){var t=this;document.addEventListener("resignActivePauseGame",function(){cc.director.pause(),cc.game.pause(),console.log("app just resign active.")}),document.addEventListener("becomeActiveResumeGame",function(){cc.game.isPaused()&&cc.game.resume(),cc.director.isPaused()&&cc.director.resume(),t.gotoForeground(),console.log("app just become active.")}),document.addEventListener("resignGameJsonBack",function(e){console.log("json back"),console.log(e.data),alert("jsonData:"+e.data),t.network.loadJson(e.data)}),this.initFeedback(),this.createPaopao(),this.answerTime=0,this.isTotalCd=!1,this.answerTimeByTotal=0,this.answerContext="",this.countDown=300,this.timeCallback=this.timeCallbackFunc(),this.isShowLossTime=!1,this.nowQuestionID=0,this.questionArr=[],this.answerInfoArr=[],this.questionNumListJS=this.quertionList_node.getComponent("QuestionNumListJS"),this.quertionList_node.opacity=0,this.title_node.opacity=0,this.time_node.opacity=0,this.onLoadChild(),this.answerEnable=!1,this.network=this.node.getComponent("NetworkJS_Data"),this.network.sendXHR(this)},initFeedback:function(){var t=cc.instantiate(this.feedback_pref);this.feedback_node.addChild(t),this.feedbackJS=t.getChildByName("Fish").getComponent("FishFeedback")},onLoadChild:function(){},gotoBackground:function(){},gotoForeground:function(){},createPaopao:function(){var t=this.node.width;console.log("width",t,this.paopao_node.width);for(var e=[120,40,160,80,200],i=1012/e.length,o=0;o<e.length;o++)(s=(n=cc.instantiate(this.paopao_pref)).getComponent(cc.Widget)).isAlignLeft=!0,s.left=e[o],n.y=-i*o,this.paopao_node.addChild(n);for(o=0;o<e.length;o++){var n=cc.instantiate(this.paopao_pref),s=n.getComponent(cc.Widget);s.isAlignRight=!0,s.right=e[o],n.y=-i*o,this.paopao_node.addChild(n)}},createAnswerInfo:function(t){var e=this.questionArr[this.nowQuestionID],i={answerTime:this.isTotalCd?this.answerTimeByTotal:this.answerTime,leveLQuestionDetailNum:e.leveLQuestionDetailNum,levelQuestionDetailID:e.levelQuestionDetailID,answerStatus:t,answerContext:this.answerContext};this.answerInfoArr.push(i)},showFeedback:function(t){0===this.nowQuestionID?this.feedbackJS.firstShowFeedback(this,t):this.feedbackJS.showFeedback(this,t)},firstFeedbackFinish:function(){},feedbackFinish:function(){if(this.nowQuestionID+=1,this.nowQuestionID>=this.questionArr.length||this.countDown-this.answerTime<=0&&this.isTotalCd){CONSOLE_LOG_OPEN&&console.log("答完了");for(var t=this.questionArr.length-this.nowQuestionID,e=0;e<t;e++)this.answerTime=0,this.createAnswerInfo("2"),this.nowQuestionID+=1;this.network.gameOver(this.answerInfoArr)}else this.network.gameLoadProgress(this.nowQuestionID+1,this.questionArr.length),this.deleteOption(),!this.isIts&&this.startloadOption()},showLossTime:function(){this.answerTime+=this.loseTime,this.isShowLossTime=!0,this.loseTime_node.opacity=255;var t=cc.callFunc(function(t){this.isShowLossTime=!1,this.loseTime_node.opacity=0},this);this.loseTime_node.runAction(cc.sequence(cc.fadeTo(1,0),t))},timeCallbackFunc:function(){return function(){this.answerTime+=1,this.scheduleTime+=1,this.answerTimeByTotal+=1;var t=this.countDown-this.answerTime;t<=0?(CONSOLE_LOG_OPEN&&console.log("时间到"),this.timeout(),this.isShowFeed=!0,this.answerTime=this.countDown,this.timeLabel.string="00:00",this.createAnswerInfo("2"),this.showFeedback(3),this.answerTime>this.scheduleTime&&this.unschedule(this.timeCallback)):this.timeLabel.string=this.timeFormat(t)}},timeFormat:function(t){var e=Math.floor(t/60),i=t%60,o=e<10?"0"+e:e,n=i<10?"0"+i:i;return t>59?o+":"+n:"00:"+n},timeout:function(){},showSchedule:function(){this.scheduleTime=0,this.answerTimeByTotal=0,this.schedule(this.timeCallback,1,this.countDown-1)},deleteOption:function(){},createOption:function(t){},selectedOption:function(t){this.nowQuestionID=t,this.deleteOption();var e=this;setTimeout(function(){e.startloadOption()},0)},startloadOption:function(){this.isIts&&this.questionNumListJS.changeOptionDisable();this.questionArr[this.nowQuestionID];this.timeLabel.string=this.timeFormat(this.countDown),this.answerTime=0,!this.isIts&&this.showSchedule(),this.isIts&&this.questionNumListJS.changeOptionEnable(),this.isShowFeed=!1},startLoadGame:function(t){this.questionArr=t,this.title_node.opacity=this.isIts?255:0,this.quertionList_node.opacity=this.isIts?255:0,this.time_node.opacity=this.isIts?0:255,this.isIts&&t&&t.length>0&&this.questionNumListJS.init(t.length,this.selectedOption.bind(this)),this.startloadOption()},selectAnswer:function(t,e){this.isShowFeed||this.isShowLossTime||(e?(CONSOLE_LOG_OPEN&&console.log("答对了"),this.rightSelect+=1,t.showParticle(),this.rightSelect>=this.count&&(this.unschedule(this.timeCallback),this.isShowFeed=!0,this.createAnswerInfo("1"),this.scheduleOnce(function(){this.showFeedback(1)},1))):(CONSOLE_LOG_OPEN&&console.log("答错了"),this.showLossTime()))},onDestroy:function(){document.removeEventListener("resignActivePauseGame"),document.removeEventListener("becomeActiveResumeGame")},setGameName:function(t){this.title_node.getComponent("TitleJS").init(t)},setPlatform:function(t){this.platform=t,this.isIts="its"==t;var e=this.isIts;this.quertionList_node.active=!!e,this.title_node.active=!!e,this.time_node.active=!e},resetOption:function(){0!=this.moveOptionTag&&(this.option_node.getChildByTag(this.moveOptionTag).getComponent("Option").reloadState(),this.moveOptionTag=0)},changeMoveTag:function(t){return!(!this.answerEnable||this.isShowFeed||this.isShowLossTime)&&((0===this.moveOptionTag||this.moveOptionTag===t||0===t)&&(this.moveOptionTag=t,!0))}}),cc._RF.pop()},{}],FishFeedback:[function(t,e,i){"use strict";cc._RF.push(e,"0ff94mXJf1DlrAO3t9YGlxy","FishFeedback");var o=cc.Enum({First:0,Congratulations:1,Refuel:2,TimeOver:3,Default:4});cc.Class({extends:cc.Component,properties:{fishFeedNode:cc.Node,rightBoard:cc.Node,wrongBoard:cc.Node,timeOverBoard:cc.Node,fish:cc.Node,starAnim:cc.Animation,fishSprite:cc.Sprite,defaultFish:cc.SpriteFrame,winFish:cc.SpriteFrame,lostFish:cc.SpriteFrame},onLoad:function(){this.feedbackType=o.First,this.fishAnim=this.fish.getComponent(cc.Animation)},firstShowFeedback:function(t,e){this.target=t,this.feedbackType=e,this.fishAnim.play("fishOnLoad")},firstFeedbackFinish:function(){this.showFeedback(this.target,this.feedbackType),this.target&&this.target.firstFeedbackFinish()},showFeedback:function(t,e){this.target=t,this.feedbackType=e,e===o.Congratulations?(this.fishSprite.spriteFrame=this.winFish,this.fishAnim.play("fishCongratulations"),this.starAnim.play(),this.rightBoard.getComponent(cc.Animation).play()):e===o.Refuel?(this.fishSprite.spriteFrame=this.lostFish,this.fishAnim.play("fishRefuel"),this.wrongBoard.getComponent(cc.Animation).play()):e===o.Default?(this.fishSprite.spriteFrame=this.defaultFish,this.fishAnim.play("fishdefault")):e===o.TimeOver&&(this.fishSprite.spriteFrame=this.lostFish,this.fishAnim.play("fishRefuel"),this.timeOverBoard.getComponent(cc.Animation).play())},feedbackFinish:function(){this.showFeedback(this.target,o.Default),this.target&&this.target.feedbackFinish()}}),cc._RF.pop()},{}],GameJS:[function(t,e,i){"use strict";cc._RF.push(e,"d92c8sRpIBMBKs/RzLIjTLN","GameJS");var o=t("BaseGameJS");cc.Class({extends:o,properties:{userGuide:cc.Node,titleLabel:cc.Label,turtle:cc.Node,trainCloudContiner:cc.Node,train:cc.Node,locomotive:cc.Prefab,carriage:cc.Prefab,cloudRight:cc.Node,bracketLeft:cc.Node,bracketRight:cc.Node,optionContainer:cc.Node,option:cc.Prefab,trainAudio:{url:cc.AudioClip,default:null},turtleCryAudio:{url:cc.AudioClip,default:null},turtleFallAudio:{url:cc.AudioClip,default:null},turtleSmallAudio:{url:cc.AudioClip,default:null}},onLoadChild:function(){var t=this;this.rightAnswer="",this.startPosX=this.node.width,this.carriageArr=[],this.locomotiveItem="",this.optionArr=[],this.optionPool=new cc.NodePool("optionPool"),this.turtleAnimation=this.turtle.getComponent(dragonBones.ArmatureDisplay),this.initTrain(),this.userGuide.on(cc.Node.EventType.TOUCH_END,function(){t.userGuide.destroy(),!t.isIts&&t.showSchedule()})},initTrain:function(){var t=cc.instantiate(this.locomotive);t.parent=this.train,this.locomotiveItem=t;for(var e=0;e<9;e++){var i=cc.instantiate(this.carriage);i.getComponent("TrainItemJS").randomBg(),i.parent=this.train,this.carriageArr.push(i)}},trainAway:function(){this.trainCloudContiner.getComponent("TrainJS").playFail(),this.trainWheelPlay(!0),this.trainSmokePlay(!0)},trainWheelPlay:function(t){this.locomotiveItem.getComponent("LocomotiveItemJS").isPlay=t;for(var e=0;e<this.carriageArr.length;e++)this.carriageArr[e].getComponent("TrainItemJS").isPlay=t},trainSmokePlay:function(t){var e=this.locomotiveItem.getComponent("LocomotiveItemJS");t?e.showWin():e.stopSmoke()},initCloud:function(t){var e=this.locomotiveItem.width,i=1==t.length?1:t[1]-t[0]+1,o=1==t.length?t[0]:t[1],n=i*e;console.log(t),console.log(i,o,n);var s=this;s.cloudRight.x=o>1?o*e+.2*n-1024:(o+.3)*e-1024,this.cloudRight.scaleX=1.3*n/538},initTurtle:function(t){this.turtle.parent=this.carriageArr[t-2+this.carriageArr.length-9],this.turtleAnim("stand",0),this.turtle.x=0,this.turtle.y=40},turtleAnim:function(t,e){this.turtleAnimation.armature().animation.play(t,e)},audioPlay:function(t,e){var i="";switch(t){case"turtleSmall":i=this.turtleSmallAudio;break;case"turtleFall":i=this.turtleFallAudio;break;case"turtleCry":i=this.turtleCryAudio;break;case"trainAudio":i=this.trainAudio}var o=cc.audioEngine.play(i,!1,1);cc.audioEngine.setFinishCallback(o,function(){cc.audioEngine.stop(o),e&&e()})},deleteOption:function(){for(var t=0;t<this.optionArr.length;t++)this.optionPool.put(this.optionArr[t])},createOption:function(t){var e=t.optionAndAnswers[0].options,i=t.interactiveJson.sequence.split(",");this.locomotiveItem.getComponent("LocomotiveItemJS").setLable(i[0]);for(var o=0;o<this.carriageArr.length;o++)this.carriageArr[o].getComponent("TrainItemJS").setLable(i[o+1]);for(var n=0;n<e.length;n++){var s=this.optionPool.size()>0?this.optionPool.get():cc.instantiate(this.option),a=s.getComponent("OptionJS");s.parent=this.optionContainer,a.init(this,e[n]),a.updateState(!0),this.optionArr.push(s)}this.rightAnswer=t.optionAndAnswers[0].rightanswer.replace("<span>","").replace("</span>",""),this.initTurtle(t.interactiveJson.turtle),this.initCloud(t.interactiveJson.showCarriage),this.trainEnter(),this.optionContainer.pauseSystemEvents(!0),0===this.nowQuestionID&&this.initUserGuide()},trainEnter:function(){var t=this;this.trainCloudContiner.x=this.startPosX,this.trainWheelPlay(!0),this.trainSmokePlay(!0),this.trainCloudContiner.getComponent("TrainJS").playStart(function(){t.trainWheelPlay(!1),t.trainSmokePlay(!1),t.optionContainer.resumeSystemEvents(!0),t.nowQuestionID>0&&!t.isIts&&t.showSchedule()})},initUserGuide:function(){var t=this.userGuide.getChildByName("btn");this.optionArr.length%2==0||(t.x-=t.x)},startloadOption:function(){this.isIts&&this.questionNumListJS.changeOptionDisable();var t=this.questionArr[this.nowQuestionID];if(this.titleLabel.string=t.qescont,this.isTotalCd=this.questionArr[0].interactiveJson.totalcd,0===this.nowQuestionID&&this.isTotalCd||!this.isTotalCd){this.answerTime=0;var e=parseInt(t.interactiveJson.countDown);e>0&&(this.countDown=e),this.timeLabel.string=this.timeFormat(this.countDown)}this.isIts&&this.questionNumListJS.changeOptionEnable(),this.isShowFeed=!1,this.createOption(t)},selectAnswer:function(t){var e=this,i=t.optionno===this.rightAnswer;this.optionContainer.pauseSystemEvents(!0),this.answerContext=t.optionno,this.isShowFeed||this.isShowLossTime||(this.unschedule(this.timeCallback),this.isShowFeed=!0,i?(CONSOLE_LOG_OPEN&&console.log("答对了"),this.turtleAnim("Happy",-1),this.audioPlay("turtleSmall",function(){e.createAnswerInfo("1"),e.showFeedback(1),e.trainSmokePlay(!0),e.audioPlay("trainAudio",function(){e.trainCloudContiner.getComponent("TrainJS").playWin()})})):(CONSOLE_LOG_OPEN&&console.log("答错了"),this.turtleAnim("fall",1),this.audioPlay("turtleFall",function(){var t=e.turtle.convertToWorldSpace(cc.p(0,0));e.turtle.parent=e.node,e.turtle.x=t.x-e.node.x,e.turtle.y=t.y-e.node.y,e.turtleAnim("tears",0),e.audioPlay("turtleCry",function(){}),e.trainAway(),e.createAnswerInfo("2"),e.showFeedback(2)}),this.turtle.runAction(cc.moveBy(.4,cc.p(0,2*-this.optionArr[0].height)))))},timeout:function(){this.optionContainer.pauseSystemEvents(!0)}}),cc._RF.pop()},{BaseGameJS:"BaseGameJS"}],LocalSaveJS:[function(t,e,i){"use strict";function o(t){var e="",i=t+"=";if(document.cookie.length>0){var o=document.cookie.indexOf(i);if(-1!=o){o+=i.length;var n=document.cookie.indexOf(";",o);-1==n&&(n=document.cookie.length),e=unescape(document.cookie.substring(o,n))}}return e}function n(t,e,i){var o="";null!=i&&(o="; expires="+(o=new Date((new Date).getTime()+1e3*i)).toGMTString()),o+="; path=/",document.cookie=t+"="+escape(e)+o}cc._RF.push(e,"f4c57nVhA1DEK8uDdBUQDFX","LocalSaveJS"),cc.Class({extends:cc.Component,properties:{},save:function(t,e){var i=cc.sys.localStorage;i?n(t,e):i.setItem(t,e)},load:function(t){var e=cc.sys.localStorage;return e?o(t):e.getItem(t)}}),cc._RF.pop()},{}],LocomotiveItemJS:[function(t,e,i){"use strict";cc._RF.push(e,"743aaqbEQJOW7o2EToOXsYa","LocomotiveItemJS");var o=t("TrainItemJS");cc.Class({extends:o,properties:{octopus:cc.Node,wheelBig:cc.Node,smokeNode:cc.Node},onLoad:function(){this._super(),this.octopusAnimation=this.octopus.getComponent(cc.Animation),this.trainSmokeAnimation=this.smokeNode.getComponent(cc.Animation)},reset:function(){this._super(),this.smokeNode.opacity=0,this.octopusAnimation.stop()},setLable:function(t){4==t.length?(this.lable.fontSize=70,this.lable.string=t):this.lable.string=t},showWin:function(){this.octopusAnimation.play("octopusHappyClip"),this.playSmoke()},showFail:function(){console.log("showFail"),this.octopusAnimation.play("octopusSadnessClip"),this.playSmoke()},playSmoke:function(){this.smokeNode.opacity=255,this.trainSmokeAnimation.play()},stopSmoke:function(){this.smokeNode.opacity=0,this.trainSmokeAnimation.stop(),this.octopusAnimation.stop()},update:function(){this.isPlay&&(this.wheel1.rotation-=5,this.wheel2.rotation-=5,this.wheelBig.rotation-=5)}}),cc._RF.pop()},{TrainItemJS:"TrainItemJS"}],NetworkJS_Data:[function(t,e,i){"use strict";cc._RF.push(e,"8febaBdc6ZNMK6NnHe3UpZb","NetworkJS_Data");var o=t("NetworkJS");cc.Class({extends:o,properties:{},analysisDict:function(t){var e=t.interactiveJson;{if(e&&0!=e.length)return"string"==typeof e&&(e=JSON.parse(e)),{answerTime:"0",levelQuestionDetailID:t.questionid,leveLQuestionDetailNum:t.orderid,qescont:this.removeSpan(t.qescont),optionAndAnswers:t.optionandanswers,interactiveJson:e};this.gameLoadFailed(2)}}}),cc._RF.pop()},{NetworkJS:"NetworkJS"}],NetworkJS:[function(t,e,i){"use strict";cc._RF.push(e,"cd804MyCfRHi4BLiy+Orkth","NetworkJS");cc.Class({extends:cc.Component,properties:{},GetQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null},sendXHR:function(t){console.log("sendXHR"),this.racingjs=t;var e=this.GetQueryString("fileUrl");console.log("fileUrl",e),e?this.loadJson(e):this.gameJson()},loadJson:function(t){var e=cc.loader.getXMLHttpRequest();this.streamXHREventsToLabel(e,"GET"),e.open("GET",t),cc.sys.isNative&&e.setRequestHeader("Accept-Encoding","gzip,deflate"),e.timeout=6e4,e.send()},streamXHREventsToLabel:function(t,e,i){var o=i||function(t){return e+" Response: "+t.substring(0,30)+"..."},n=this;t.onreadystatechange=function(){try{t.readyState===XMLHttpRequest.DONE&&(CONSOLE_LOG_OPEN&&console.log(o(t.responseText)),200===t.status?n.analysisData(t.responseText):(CONSOLE_LOG_OPEN&&console.log("There was a problem with the request."),n.gameLoadFailed(1)))}catch(t){CONSOLE_LOG_OPEN&&console.log("Caught Exception: "+t.description),n.gameLoadFailed(1)}}},analysisData:function(t){var e=JSON.parse(t);if(e||e.length>0){for(var i=[],o=0;o<e.length;++o){var n=this.analysisDict(e[o]);i.push(n)}i&&i.length>0?(this.racingjs.setPlatform(this.GetQueryString("platform")),this.racingjs.setGameName(this.GetQueryString("gameName")),this.racingjs.startLoadGame(i),this.gameLoadSuccess(i.length)):this.gameLoadFailed(2)}else this.gameLoadFailed(2)},analysisDict:function(t){var e=t.interactiveJson;{if(e&&0!=e.length)return"string"==typeof e&&(e=JSON.parse(e)),{answerTime:"0",levelQuestionDetailID:t.questionid,leveLQuestionDetailNum:t.orderid,qescont:this.removeSpan(t.qescont),interactiveJson:e};this.gameLoadFailed(2)}},removeSpan:function(t){var e=t.replace("<span>","");return e=e.replace("</span>","")},gameLoadFailed:function(t){if(1==t){e=encodeURI("errcode=10001&errmsg=下载失败");window.location.href="optionBlank://gameLoadFailed?"+e}else{var e=encodeURI("errcode=10002&errmsg=解析失败");window.location.href="optionBlank://gameLoadFailed?"+e}},gameLoadSuccess:function(t){var e=encodeURI("isShow=1&totalNumber="+t);window.location.href="optionBlank://gameLoadSuccess?"+e},gameOver:function(t){var e=encodeURI(JSON.stringify(t));window.location.href="optionBlank://gameOver?status=1&data="+e},gameLoadProgress:function(t,e){var i=encodeURI("nowNumber="+t+"&totalNumber="+e);window.location.href="optionBlank://gameLoadProgress?"+i},gameJson:function(){console.log("gameJson"),window.location.href="optionBlank://gameJson?"}});cc._RF.pop()},{}],OptionJS:[function(t,e,i){"use strict";cc._RF.push(e,"cec4fBlGJ1Nw5Qzjr1JzrRx","OptionJS"),cc.Class({extends:cc.Component,properties:{option_node:cc.Node,label:cc.Label},init:function(t,e,i){this.gameJS=t,this.option=e;var o=(e.optionContent||e.optioncontent).replace("<span>","").replace("</span>","");4==o.length?(this.label.fontSize=80,this.label.string=o):(this.label.fontSize=110,this.label.string=o),this.optionNo=e.optionNo||e.optionno},optionClick:function(){var t=this;t.updateState(!1),t.gameJS.selectAnswer(t.option),this.scheduleOnce(function(){},.2)},updateState:function(t){this.option_node.getComponent(cc.Button).interactable=t}}),cc._RF.pop()},{}],PaoPaoJS:[function(t,e,i){"use strict";cc._RF.push(e,"64af7fqo+JH17aITx262Fhi","PaoPaoJS"),cc.Class({extends:cc.Component,properties:{paopao:cc.Node},onLoad:function(){this.paopao.scale=.7*Math.random()+.3},update:function(t){this.paopao.y+=2,this.paopao.y>=1012&&(this.paopao.scale=.7*Math.random()+.3,this.paopao.y=0)}}),cc._RF.pop()},{}],QuestionNumJS:[function(t,e,i){"use strict";cc._RF.push(e,"511ccnUhPdEV5sMRHkmPNf2","QuestionNumJS"),cc.Class({extends:cc.Component,properties:{label:cc.Label,selected_node:cc.Node},onLoad:function(){this.isSelect=!1,this.sp=this.node.getComponent("cc.Sprite")},init:function(t,e){this.gameJS=t,this.idx=e;var i=""+(e+1);this.label.string=i,this.selected_node.opacity=0},onClick:function(){this.gameJS.changQustion(this.idx)},setSelected:function(t){this.isSelect=t,this.selected_node.opacity=t?255:0}}),cc._RF.pop()},{}],QuestionNumListJS:[function(t,e,i){"use strict";cc._RF.push(e,"7a656I23ulAK7kDASga7f0X","QuestionNumListJS"),cc.Class({extends:cc.Component,properties:{lastBtn:cc.Node,nextBtn:cc.Node,quertionNum:cc.Prefab,questionNum_node:cc.Node},onLoad:function(){this.itemPool=new cc.NodePool,this.defaultLen=7,this.targetIdx=0,this.nowQuestionID=0,this.qusetionItemPool=new cc.NodePool,this.qusetionNumJSArr=[],this.selectedQusetionJS=null},init:function(t,e){this.maxlen=t,this.cb=e,t<this.defaultLen?(this.lastBtn.opacity=0,this.nextBtn.opacity=0):(this.lastBtn.opacity=255,this.nextBtn.opacity=255);for(var i=0;i<t;i++){var o=cc.instantiate(this.quertionNum),n=o.getComponent("QuestionNumJS");this.qusetionNumJSArr.push(o),n.init(this,i)}this.changeQustionList(),this.selectedQusetionJS=this.qusetionNumJSArr[this.nowQuestionID].getComponent("QuestionNumJS"),this.selectedQusetionJS.setSelected(!0)},clickLast:function(){this.targetIdx>=this.defaultLen&&(this.targetIdx-=this.defaultLen,this.changeQustionList())},clickNext:function(){this.targetIdx+this.defaultLen<this.maxlen&&(this.targetIdx+=this.defaultLen,this.changeQustionList())},changeQustionList:function(){this.questionNum_node.removeAllChildren();for(var t=this.targetIdx,e=Math.min(this.defaultLen,this.maxlen-t),i=0;i<e;i++){var o=this.qusetionNumJSArr[i+t];this.questionNum_node.addChild(o)}},changQustion:function(t){this.nowQuestionID=t,this.selectedQusetionJS.setSelected(!1),this.selectedQusetionJS=this.qusetionNumJSArr[t].getComponent("QuestionNumJS"),this.selectedQusetionJS.setSelected(!0);var e=this.cb;e&&e(t)},changeOptionEnable:function(){this.questionNum_node.resumeSystemEvents(!0)},changeOptionDisable:function(){this.questionNum_node.pauseSystemEvents(!0)}}),cc._RF.pop()},{}],TitleJS:[function(t,e,i){"use strict";cc._RF.push(e,"5b283IiR/BBgLkN+zazJigp","TitleJS"),cc.Class({extends:cc.Component,properties:{label:cc.Label},init:function(t){this.label.string=t}}),cc._RF.pop()},{}],TrainItemJS:[function(t,e,i){"use strict";cc._RF.push(e,"c4c70GzJYRANoFz/AMWMhOS","TrainItemJS"),cc.Class({extends:cc.Component,properties:{lable:cc.Label,carriage:cc.Sprite,brackLeft:cc.Node,brackRight:cc.Node,blueBg:cc.Node,questionMark:cc.Node,wheel1:cc.Node,wheel2:cc.Node,numItem_Node:cc.Node},onLoad:function(){this.isPlay=!1,this.blueBg.opacity=0,this.brackLeft.opacity=0,this.brackRight.opacity=0,this.questionMark.opacity=0,this.lable.string="",this.optionNo=null,this.jumpAnimal=this.numItem_Node.getComponent(cc.Animation)},reset:function(){this.isPlay=!1,this.blueBg.opacity=0,this.brackLeft.opacity=0,this.brackRight.opacity=0,this.questionMark.opacity=0,this.lable.string="",this.isQuestion=!1,this.optionNo=null},randomBg:function(){var t="carriage"+Math.floor(5*Math.random()+1),e=this.carriage;cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.spriteFrame=i)})},setLable:function(t){4==t.length?(this.lable.fontSize=70,this.lable.string=t):this.lable.string=t},update:function(){this.isPlay&&(this.wheel1.rotation-=5,this.wheel2.rotation-=5)},setWinLabel:function(t){this.lable.string=t,this.questionMark.opacity=0,this.blueBg.opacity=255},setOptionNo:function(t){this.optionNo=t},getOptionNo:function(){return this.optionNo},playJump:function(){this.questionMark.opacity&&this.jumpAnimal.play()}}),cc._RF.pop()},{}],TrainJS:[function(t,e,i){"use strict";cc._RF.push(e,"1f7997Eie5BfKdj6Qp8nRrC","TrainJS"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.isShock=!1,this.shockDx=10;this.trainActionFail=cc.moveBy(2,cc.p(-2048,0)).easing(cc.easeIn(2)),this.trainActionBegin=cc.moveTo(2,cc.p(0,-30)).easing(cc.easeOut(2)),this.trainActionWin=cc.moveBy(2,cc.p(-2048,0)).easing(cc.easeIn(2))},playWin:function(){this.node.stopAllActions(),this.node.runAction(this.trainActionWin)},playFail:function(){this.node.stopAllActions(),this.scheduleOnce(function(){this.unschedule(this.playShock)},.8),this.scheduleOnce(function(){this.node.x=0,this.node.runAction(this.trainActionFail)},1),this.schedule(this.playShock,.08)},playStart:function(t){this.node.stopAllActions(),this.node.runAction(cc.sequence(this.trainActionBegin,cc.callFunc(t)))},reset:function(){this.node.x=0,this.node.y=0},playShock:function(){this.node.x+=this.shockDx,this.shockDx=-this.shockDx}}),cc._RF.pop()},{}],config:[function(t,e,i){"use strict";cc._RF.push(e,"cf7e7Hjl8pBApNKVzaPXR0c","config"),window.CONSOLE_LOG_OPEN=!0,cc._RF.pop()},{}],dragOptionJS:[function(t,e,i){"use strict";cc._RF.push(e,"fa5adP1FHZPDLRNaX+1i0Ag","dragOptionJS"),cc.Class({extends:cc.Component,properties:{option_node:cc.Node,label:cc.Label,canMove:!1},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touch_start.bind(this),this.node),console.log(this.node.name),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touch_move.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_END,this.touch_end.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touch_cancel.bind(this),this.node)},init:function(t,e,i){this.node.opacity=255,this.gameJS=t,this.option=e,this.label.string=e.optionContent,this.optionNo=e.optionNo,this.startx=this.node.x,this.starty=this.node.y},touch_start:function(t){this.canMove=this.gameJS.changeMoveTag(this.node.tag),this.canMove&&(this.opacity=150)},touch_end:function(t){this.canMove&&(this.node.opacity=255,this.check()&&this.optionClick(),this.reloadState())},touch_move:function(t){if(this.canMove){var e=t.getTouches(),i=this.node.parent.parent,o=i.convertTouchToNodeSpaceAR(e[0]);if(Math.abs(o.x)<i.width/2-50&&Math.abs(o.y)<i.height/2-30){var n=this.node.parent.convertTouchToNodeSpaceAR(e[0]);this.node.position=n}else this.reloadState()}},touch_cancel:function(t){this.reloadState()},reloadState:function(){this.node.x=this.startx,this.node.y=this.starty,this.canMove=!1,this.gameJS.changeMoveTag(0)},check:function(){var t=this.questionNode;if(t){var e=this.node,i=t.convertToWorldSpaceAR(cc.p(0,0)),o=this.node.convertToWorldSpaceAR(cc.p(0,0));if(Math.abs(i.x-o.x)<(t.width+e.width)/2&&Math.abs(i.y-o.y)<(t.height+e.height)/2)return!0}return!1},optionClick:function(){this.node.opacity=0;var t=this;t.updateState(!1),this.scheduleOnce(function(){t.gameJS.selectAnswer(t.option)},.2)},updateState:function(t){this.option_node.getComponent(cc.Button).interactable=t},setQuestionNode:function(t){this.questionNode=t}}),cc._RF.pop()},{}]},{},["BaseGameJS","LocalSaveJS","NetworkJS","dragOptionJS","FishFeedback","OptionJS","PaoPaoJS","QuestionNumJS","QuestionNumListJS","TitleJS","GameJS","LocomotiveItemJS","NetworkJS_Data","TrainItemJS","TrainJS","config"]);